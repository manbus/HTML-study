<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>画布状态save，restore</title>
  </head>
  <body>
    <canvas id="canvas">浏览器不支持canvas</canvas>
    <script type="text/javascript">

    var can = document.getElementById("canvas");
    can.width = 500;
    can.height = 500;
    can.style.border = '1px solid red';

    var ctx = can.getContext('2d');

    ctx.lineWidth = 5;
    ctx.strokeRect(0,0,100,100);
    ctx.save();

    ctx.scale(2,2);
    ctx.strokeRect(0,0,100,100);
    ctx.save();

    ctx.scale(3,3);
    ctx.strokeRect(0,0,10,10);
    ctx.save();

    ctx.scale(0.3,0.3);
    ctx.strokeRect(10,10,50,50);
    ctx.save();

    //开始恢复（倒序恢复，类似于栈，最先恢复是最后一次的save）
    ctx.restore();
    ctx.restore();
    ctx.restore();
    ctx.restore();
    ctx.strokeStyle = 'red';
    ctx.strokeRect(0,0,50,50);

    </script>

  </body>
</html>
